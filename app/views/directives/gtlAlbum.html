<h1 ng-if="detailed">Detailed true</h1>


<article ng-if="album" ng-class="{'detailed': detailed, 'box': !detailed}">
    <header>
        <h4><span class="album-title">{{ ::album.title }}</span> <span class="album-title">({{ ::album.year }})</span> <gtl-fav namespace="favAlbums" var="album{{::album.id}}"></gtl-fav></h4>
        <gtl-band band="album.band"></gtl-band>
    </header>
    <div class="album-artwork" ng-if="album.image">
        <img src="{{ ::album.image | imageSource }}" alt="{{ ::album.title }}" ng-click="goToAlbum()" />
        <div class="rating">
            <div gtl-rating namespace="fav" var="{{::album.name | normalize}}" stars="5"></div>
        </div>
        <gtl-fav namespace="favAlbums" var="album{{::album.id}}"></gtl-fav>
    </div>
    <div class="details" ng-if="detailed">
        <p>Genre: {{ album.genre.name }} <gtl-fav namespace="favGenres" var="gen{{::album.genre.id}}"></gtl-fav></p>
        <p>Tracklist</p>
        <ol class="tracklist">
            <li ng-repeat="track in album.tracklist">{{ track }} <gtl-fav namespace="favTrack" var="{{::album.id}}{{::track | normalize}}"></li>
        </ol>
    </div>
</article>

<article ng-if="!album">
    <p>Not found</p>
</article>
